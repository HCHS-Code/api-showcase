import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.BVOCwoKb.js";function N(){const[l,m]=a.useState(""),[r,c]=a.useState(1),[h,p]=a.useState([]),[i,b]=a.useState(0),[o,d]=a.useState(!1),[u,x]=a.useState(null);async function f(t){if(t.preventDefault(),!!l.trim()){d(!0),x(null);try{const s=await fetch(`https://api.github.com/search/repositories?q=${encodeURIComponent(l)}&sort=stars&page=${r}&per_page=10`,{headers:{Accept:"application/vnd.github.v3+json"}});if(!s.ok)throw new Error(`GitHub API error: ${s.status}`);const g=await s.json();p(g.items),b(g.total_count)}catch(s){x(s instanceof Error?s.message:"An error occurred")}finally{d(!1)}}}const n=Math.ceil(i/10);return e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsx("form",{onSubmit:f,className:"mb-8",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search repositories (e.g., 'react')",value:l,onChange:t=>m(t.target.value),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Search"})]})}),o&&e.jsx("div",{className:"text-center text-gray-600",children:"Loading..."}),u&&e.jsx("div",{className:"text-center text-red-500",children:u}),i>0&&e.jsxs("div",{className:"text-center text-gray-600 mb-4",children:["Found ",i.toLocaleString()," repositories"]}),e.jsx("div",{className:"grid gap-6",children:h.map(t=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("img",{src:t.owner.avatar_url,alt:`${t.owner.login}'s avatar`,className:"w-10 h-10 rounded-full"}),e.jsx("h2",{className:"text-xl font-semibold",children:e.jsx("a",{href:t.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:t.full_name})})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[e.jsxs("span",{children:["⭐ ",t.stargazers_count.toLocaleString()]}),e.jsxs("span",{children:["🔀 ",t.forks_count.toLocaleString()]}),t.language&&e.jsxs("span",{children:["💻 ",t.language]})]}),t.topics.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.topics.map(s=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 text-sm rounded-full",children:s},s))})]},t.id))}),n>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[e.jsx("button",{onClick:()=>c(t=>Math.max(1,t-1)),disabled:r===1||o,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg disabled:opacity-50",children:"Previous"}),e.jsxs("span",{className:"text-gray-600",children:["Page ",r," of ",n]}),e.jsx("button",{onClick:()=>c(t=>Math.min(n,t+1)),disabled:r===n||o,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg disabled:opacity-50",children:"Next"})]})]})}export{N as default};
